let cart = [];

function addToCart(name, price) {
    cart.push({name, price});
    updateCartDisplay();
}

function updateCartDisplay() {
    let total = cart.reduce((sum, item) => sum + item.price, 0);
    document.getElementById('cart').innerText = `Cart: $${total.toFixed(2)} (${cart.length})`;
}

function checkoutWithPayPal() {
    if(cart.length === 0) {
        alert("Your cart is empty!");
        return;
    }

    const form = document.createElement('form');
    form.setAttribute('action', 'https://www.paypal.com/cgi-bin/webscr');
    form.setAttribute('method', 'post');
    form.setAttribute('target', '_top');

    form.innerHTML = `
        <input type="hidden" name="cmd" value="_cart">
        <input type="hidden" name="upload" value="1">
        <input type="hidden" name="business" value="exploreenjoyfood@gmail.com">
    `;

    cart.forEach((item, index) => {
        form.innerHTML += `
            <input type="hidden" name="item_name_${index+1}" value="${item.name}">
            <input type="hidden" name="amount_${index+1}" value="${item.price}">
            <input type="hidden" name="quantity_${index+1}" value="1">
        `;
    });

    document.body.appendChild(form);
    form.submit();
    form.remove();
}
